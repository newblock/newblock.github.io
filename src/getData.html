<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>test</title>
    <script src=../js/nebPay.js></script>


    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,800" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9"
        crossorigin="anonymous"> -->

    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../css/tstyle.css">
    <script src=../lib/nebPay.js></script>
    <script src=../lib/nebulas.js></script>

  </head>

  <body>
    <div class="navbar-wrapper">
      <div class="container">

        <nav class="navbar navbar-inverse navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Chain Career 链涯</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="#">首页</a></li>
                <li><a href="#about">找人才</a></li>
                <li><a href="#contact">找工作</a></li>
                <li><a href="#contact">人才上链</a></li>
                <li><a href="#contact">开始挖人</a></li>
                <li><a href="#contact">钱包教程</a></li>
              </ul>
            </div>
          </div>
        </nav>

        <!-- Carousel
        ================================================== -->
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <!-- Indicators -->
          <!-- <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol> -->
          <div class="carousel-inner" role="listbox">
            <div class="item active">
              <img class="first-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
              <div class="container">
                <div class="carousel-caption">
                  <h1>Example headline.</h1>
                  <p>Note: If you're viewing this page via a <code>file://</code> URL, the "next" and "previous" Glyphicon buttons on the left and right might not load/display properly due to web browser security rules.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>
                </div>
              </div>
            </div>
            <div class="item">
              <img class="second-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
              <div class="container">
                <div class="carousel-caption">
                  <h1>Another example headline.</h1>
                  <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
                </div>
              </div>
            </div>
            <div class="item">
              <img class="third-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
              <div class="container">
                <div class="carousel-caption">
                  <h1>One more for good measure.</h1>
                  <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p>
                </div>
              </div>
            </div>
          </div>
          <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div><!-- /.carousel -->


        <!-- Marketing messaging and featurettes
        ================================================== -->
        <!-- Wrap the rest of the page in another container to center all the content. -->

        <div class="container marketing">

          <!-- START THE FEATURETTES -->

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">我是一个兵，来自老百姓，伟大祖国培养我成为了一名工程师。现在我正在做区块链产品经理和区块链产品开发。更多的为信用金融服务我的未来。让更多的人获得投资回报的收获。让祖国人民更富有，让祖国更强大，哈哈！</p>
            </div>
            <div class="col-md-3">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7 col-md-push-3">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-3 col-md-pull-7">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">我是一个兵，来自老百姓，伟大祖国培养我成为了一名工程师。现在我正在做区块链产品经理和区块链产品开发。更多的为信用金融服务我的未来。让更多的人获得投资回报的收获。让祖国人民更富有，让祖国更强大，哈哈！</p>
            </div>
            <div class="col-md-3">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7 col-md-push-3">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-3 col-md-pull-7">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">我是一个兵，来自老百姓，伟大祖国培养我成为了一名工程师。现在我正在做区块链产品经理和区块链产品开发。更多的为信用金融服务我的未来。让更多的人获得投资回报的收获。让祖国人民更富有，让祖国更强大，哈哈！</p>
            </div>
            <div class="col-md-3">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>

          <hr class="featurette-divider">

          <div class="row featurette">
            <div class="col-md-1">
            </div>
            <div class="col-md-7 col-md-push-3">
              <h2 class="featurette-heading featurette-name text-muted">链名:阿甘</h2>
              <h3 class="featurette-heading ">职位: 产品经理 前端工程师</h3>
              <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
            </div>
            <div class="col-md-3 col-md-pull-7">
              <div class="featurette-colorblock center-block">
              </div>
            </div>
          </div>



          <div class="">
            <button type="button" onclick="onClickAddText()">点我!</button>
            <button type="button" onclick="onClickBtn()">按钮2</button>
            <button type="button" onclick="postJson()">按钮3</button>
            <button type="button" onclick="testContract()">合约测试</button>
            <button type="button" onclick="getWallectInfo()">合约测试</button>
          </div>

          <div class="">
          <form id= "upload_form">
            <input type="text" name="filename" />
            <input type="file" name="file"/>
            <input type="button" value="上传" onclick="upload()" />
          </form>
          </div>

          <div class="task-list">

          </div>


          <hr class="featurette-divider">

          <!-- /END THE FEATURETTES -->


          <!-- FOOTER -->
          <footer>
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>&copy; 2016 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
          </footer>


      </div>
    </div>

    <!-- <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">共识求职</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <form class="navbar-form navbar-right">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form>
        </div>
      </div>
    </nav> -->


    <script src="../lib/jquery-3.3.1.min.js"></script>
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  </body>

  <script>

  function onClickBtn()
  {

    var path = "https://886494025.vcblock.club/weapp/arttext?aid=" + 1 ;
    var path2 = "https://yabu44d9.qcloud.la/weapp/savejob" ;
    $.get(path2,function(data,status)
    {
      var r = JSON.stringify(data);
      //alert("Data: " + data + "nStatus: " + status);
      console.log(status + ":::"+ r);
    });
  }

  function postJson()
  {
    var path = "https://yabu44d9.qcloud.la/weapp/savejob" ;

    $.post(path,
    {
      id:"1",
      name:"Donald Duck",
      job:"Java Prog",
      skill:"java",
      wx:"15202155519",
      mail:"5555@qq.com"
    },
    function(data,status)
    {
      alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
    });
  }

  function onClickAddText()
  {
    let innerHtml = `<div class="d-flex justify-content-start task" data-task-id="001">
                     <button class="task-toggle" data-completed="true">
                      <i class="far fa-check-square></i>
                  </button>
                  <div class="task-content">测试测试测试</div>
                  <button class="task-remove">
                      &times;
                  </button>
              </div>`;
              let div = document.createElement('div');
              div.innerHTML = innerHtml;

    $(".task-list").append(div.firstChild);
  }

  // function upload()
  // {
  //   //var form = new FormData($("#upload_form")[0]);
  //
  //   $.ajax({
  //         //几个参数需要注意一下
  //             type: "POST",//方法类型
  //             dataType: "json",//预期服务器返回的数据类型
  //             url: "https://yabu44d9.qcloud.la/weapp/upload" ,//url
  //             data: $('#upload_form')[0],
  //             success: function (result) {
  //                 console.log(result);//打印服务端返回的数据(调试用)
  //                 if (result.resultCode == 200) {
  //                     alert("SUCCESS");
  //                 }
  //                 ;
  //             },
  //             error : function() {
  //                 alert("异常！");
  //             }
  //         });
  // }

        var nebulas = require("nebulas"),
        neb = new nebulas.Neb();
        neb.setRequest(new nebulas.HttpRequest("https://testnet.nebulas.io"));

        var NebPay = require("nebpay");
        var nebPay = new NebPay();
        //to check if the extension is installed
        //if the extension is installed, var "webExtensionWallet" will be injected in to web page
        setTimeout(function () { if (typeof (webExtensionWallet) === "undefined") {
                alert("请先安装星云钱包插件.");
        }}, 500); //等待加载钱包
        function onClickCallDapp(value,callFunction,args)
        {
                var to = "n1mSeomqNjTYALFJidHY1NMZoChd83h7nH6"; //合约地址
                var callArgs = args;
                nebPay.call(to,
                value,
                callFunction,
                callArgs,
                {
                        qrcode: {
                        showQRCode: false
                        },
                        goods: {
                        name: "ccjob",
                        desc: "0.001 nas from ccjob"
                        },
                        listener: cbCallDapp
                });
        }
        function cbCallDapp(resp)
        {
                console.log("callback resp: " + JSON.stringify(resp));
        }

        function testContract()
        {
          var callArgs = "[\"" + "前端工程师"+ "\"]";
          //var callArgs = "fdadfafdsa";
          onClickCallDapp(0.001,"postEmployee",callArgs);
        }

          function getWallectInfo()
          {
            var add ;
            window.postMessage({
                "target": "contentscript",
                "data": {},
                "method": "getAccount",
            }, "*");
            window.addEventListener('message', function (e)
            {
                if (e.data && e.data.data) {
                    if (e.data.data.account) {//这就是当前钱包中的地址
                        var address = e.data.data.account;

                        add = address;

                        console.log("address:  "+address);
                        //app.updateUserInfo() //小提示：获取钱包地址后，就可以调用对应的方法查询用户信息啦
                    }
                }
            });

            if (!add) {
              alert("null:  "+add);
            }
          }

  </script>
</html>
